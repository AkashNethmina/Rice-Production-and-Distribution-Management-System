flowchart TD Start([Start]) --> CreateRequest CreateRequest[Private Buyer Creates Request\nFarmerID, StockID, RequestPrice,\nQuantity, BuyerType: 'Private'] --> InitialStatus InitialStatus[Initial Status: 'Pending'\nRequestDate: Current DateTime] --> Review Review{System/farmer Review} --> UnderReview UnderReview[Status: 'Under Review'] --> Decision Decision{Decision} --> |Approved| Approved Decision --> |Rejected| Rejected Approved[Status: 'Approved'\nBuyerID assigned] --> CompleteSale CompleteSale[Complete Sale Transaction] --> End Rejected[Status: 'Rejected'] --> End End([End]) CREATE TABLE RequestPaddy ( RequestPaddyID INT IDENTITY(1,1) PRIMARY KEY, FarmerID INT NOT NULL, BuyerID INT NULL, StockID INT NOT NULL, BuyerType NVARCHAR(50) CHECK (BuyerType IN ('Private')), RequestPrice DECIMAL(10,2) NOT NULL, Quantity DECIMAL(10,2) NOT NULL, RequestStatus NVARCHAR(20) CHECK (RequestStatus IN ('Pending', 'Under Review', 'Approved', 'Rejected')) DEFAULT 'Pending', RequestDate DATETIME DEFAULT GETDATE(), FOREIGN KEY (FarmerID) REFERENCES Users(UserID) ON DELETE CASCADE, FOREIGN KEY (BuyerID) REFERENCES Users(UserID) ON DELETE NO ACTION ON UPDATE NO ACTION, FOREIGN KEY (StockID) REFERENCES Stock(StockID) ON DELETE NO ACTION ON UPDATE NO ACTION -- changed to avoid multiple cascade paths );
-- Stock Table CREATE TABLE Stock ( StockID INT IDENTITY(1,1) PRIMARY KEY, FarmerID INT NOT NULL, CropType NVARCHAR(50) NOT NULL CHECK (CropType IN ( 'Red Nadu', 'White Nadu', 'White Samba', 'Red Samba', 'Keeri Samba', 'Red Raw Rice', 'White Raw Rice' )), Quantity DECIMAL(10,2) NOT NULL, LastUpdated DATETIME DEFAULT GETDATE(), FOREIGN KEY (FarmerID) REFERENCES Users(UserID) ON DELETE CASCADE );
using System; using System.Collections.Generic; using System.ComponentModel; using System.Drawing; using System.Data; using System.Linq; using System.Text; using System.Threading.Tasks; using System.Windows.Forms; namespace RiceMgmtApp { public partial class RequestPaddy: UserControl { private readonly string connectionString = "Server=DESKTOP-O6K3I3U\\SQLEXPRESS;Database=RiceProductionDB2;Integrated Security=True;"; private int currentUserID; private int currentUserRole; public RequestPaddy() { InitializeComponent(); } private void RequestPaddy_Load(object sender, EventArgs e) { } } }
code plz
-- Roles Table CREATE TABLE Roles ( RoleID INT IDENTITY(1,1) PRIMARY KEY, RoleName NVARCHAR(50) NOT NULL UNIQUE ); RoleID = 1 Admin, 2 Farmer, 3 Government, 4 Private Buyer -- Users Table CREATE TABLE Users ( UserID INT IDENTITY(1,1) PRIMARY KEY, FullName NVARCHAR(100) NOT NULL, Username NVARCHAR(50) NOT NULL UNIQUE, PasswordHash NVARCHAR(512) NOT NULL, Email NVARCHAR(100) UNIQUE, ContactNumber NVARCHAR(20), RoleID INT NOT NULL, Status NVARCHAR(20) CHECK (Status IN ('Active', 'Suspended')) DEFAULT 'Active', CreatedAt DATETIME DEFAULT GETDATE(), FOREIGN KEY (RoleID) REFERENCES Roles(RoleID) );
only acsees RoleID = 2 Farmer , 4 Private Buyer

namespace RiceMgmtApp
{
    partial class RequestPaddy
    {
        /// <summary> 
        /// Required designer variable.
        /// </summary>
        private System.ComponentModel.IContainer components = null;
        /// <summary> 
        /// Clean up any resources being used.
        /// </summary>
        /// <param name="disposing">true if managed resources should be disposed; otherwise, false.</param>
        protected override void Dispose(bool disposing)
        {
            if (disposing && (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }
        #region Component Designer generated code
        /// <summary> 
        /// Required method for Designer support - do not modify 
        /// the contents of this method with the code editor.
        /// </summary>
        private void InitializeComponent()
        {
            this.SuspendLayout();
            // 
            // RequestPaddy
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.Name = "RequestPaddy";
            this.Size = new System.Drawing.Size(1085, 795);
            this.Load += new System.EventHandler(this.RequestPaddy_Load);
            this.ResumeLayout(false);
        }
        #endregion
    }
}